# Environment Variable Defaults Reference

This document provides a quick reference for all environment variables used by HomelabARR and their default values.

## Core Configuration

| Variable | Default | Description |
|----------|---------|-------------|
| `NODE_ENV` | `development` | Environment mode (development/production/test) |
| `PORT` | `3001` | Backend server port |
| `BIND_ADDRESS` | `0.0.0.0` | Server bind address |
| `LOG_LEVEL` | `info` (prod), `debug` (dev) | Logging verbosity |

## CORS Configuration

| Variable | Default | Description |
|----------|---------|-------------|
| `CORS_ORIGIN` | `*` (dev), `http://localhost:5173` (prod) | Allowed CORS origins |

## Docker Configuration

| Variable | Default | Description |
|----------|---------|-------------|
| `DOCKER_SOCKET` | `/var/run/docker.sock` (Linux/macOS), `//./pipe/docker_engine` (Windows) | Docker socket path |
| `DOCKER_GID` | `999` (Linux), `null` (Windows/macOS) | Docker group ID |
| `DOCKER_TIMEOUT` | `30000` | Docker operation timeout (ms) |
| `DOCKER_HOST` | Auto-generated from socket | Docker host URL |

## Authentication Configuration

| Variable | Default | Description |
|----------|---------|-------------|
| `AUTH_ENABLED` | `true` (prod), `false` (dev) | Enable authentication |
| `JWT_SECRET` | `homelabarr-default-secret-change-in-production` | JWT signing secret |
| `JWT_EXPIRES_IN` | `24h` | JWT token expiration |
| `DEFAULT_ADMIN_PASSWORD` | `admin` | Default admin password |

## Service URLs

| Variable | Default | Description |
|----------|---------|-------------|
| `FRONTEND_URL` | `http://localhost:5173` (dev), `http://frontend:5173` (container) | Frontend service URL |
| `BACKEND_URL` | `http://localhost:3001` (dev), `http://backend:3001` (container) | Backend service URL |
| `EXTERNAL_HEALTH_URL` | `http://localhost:{PORT}/health` | External health check URL |
| `DATABASE_URL` | `sqlite://./data/homelabarr.db` | Database connection URL |
| `REDIS_URL` | `redis://redis:6379` | Redis connection URL |

## Port Configuration

| Variable | Default | Description |
|----------|---------|-------------|
| `FRONTEND_PORT` | `8087` | Frontend exposed port |
| `BACKEND_PORT` | `8088` | Backend exposed port |

## Debugging Features

| Variable | Default | Description |
|----------|---------|-------------|
| `DEBUG_MODE` | `false` (prod), `true` (dev) | Enable debug mode |
| `ENABLE_CORS_LOGGING` | `false` (prod), `true` (dev) | Log CORS requests |
| `ENABLE_REQUEST_LOGGING` | `false` (prod), `true` (dev) | Log HTTP requests |
| `ENABLE_DOCKER_LOGGING` | `false` (prod), `true` (dev) | Log Docker operations |
| `DETAILED_LOGGING` | `false` (prod), `true` (dev) | Enable detailed logging |

## Timeouts and Limits

| Variable | Default | Description |
|----------|---------|-------------|
| `REQUEST_TIMEOUT` | `10000` | HTTP request timeout (ms) |
| `HEALTH_CHECK_TIMEOUT` | `5000` | Health check timeout (ms) |

## Feature Flags

| Variable | Default | Description |
|----------|---------|-------------|
| `HEALTH_CHECK_ENABLED` | `true` | Enable health check endpoint |
| `METRICS_ENABLED` | `false` | Enable metrics collection |

## Validation Settings

| Variable | Default | Description |
|----------|---------|-------------|
| `VALIDATE_DOCKER_SOCKET` | `true` | Validate Docker socket access |
| `VALIDATE_SERVICE_URLS` | `true` | Validate service URL connectivity |

## Data and Storage

| Variable | Default | Description |
|----------|---------|-------------|
| `DATA_PATH` | `/app/data` | Data storage path |
| `DEFAULT_NETWORK` | `homelabarr` | Default Docker network |

## Platform-Specific Defaults

### Linux
- `DOCKER_SOCKET`: `/var/run/docker.sock`
- `DOCKER_GID`: `999` (varies by distribution)
- `BIND_ADDRESS`: `0.0.0.0`

### Windows
- `DOCKER_SOCKET`: `//./pipe/docker_engine` (auto-detected)
- `DOCKER_GID`: Not applicable (ignored)
- `BIND_ADDRESS`: `0.0.0.0`

### macOS
- `DOCKER_SOCKET`: `/var/run/docker.sock`
- `DOCKER_GID`: `20` (typical)
- `BIND_ADDRESS`: `0.0.0.0`

## Environment-Specific Overrides

### Development Environment
- `NODE_ENV`: `development`
- `LOG_LEVEL`: `debug`
- `CORS_ORIGIN`: `*`
- `AUTH_ENABLED`: `false`
- `DEBUG_MODE`: `true`
- All logging features: `true`

### Production Environment
- `NODE_ENV`: `production`
- `LOG_LEVEL`: `info`
- `CORS_ORIGIN`: Must be set to specific domain
- `AUTH_ENABLED`: `true`
- `DEBUG_MODE`: `false`
- All logging features: `false`

### Test Environment
- `NODE_ENV`: `test`
- `LOG_LEVEL`: `warn`
- `PORT`: `3002`
- `DATABASE_URL`: `sqlite://:memory:`
- Shorter timeouts for faster execution

### Docker Compose Environment
- `BIND_ADDRESS`: `0.0.0.0`
- Service URLs use Docker Compose service names
- `FRONTEND_URL`: `http://homelabarr-frontend:5173`
- `BACKEND_URL`: `http://homelabarr-backend:3001`

## Critical Security Notes

⚠️ **Never use these defaults in production:**
- `JWT_SECRET`: Always change from default
- `DEFAULT_ADMIN_PASSWORD`: Change immediately after deployment
- `CORS_ORIGIN=*`: Use specific domains in production
- `AUTH_ENABLED=false`: Always enable in production

## Configuration Priority

Environment variables are loaded in this order (later values override earlier ones):
1. System environment variables
2. `.env` file
3. Application defaults
4. Command-line arguments (if applicable)

## Validation

Use the provided validation script or commands to verify your configuration:
```bash
# Quick validation
node -e "require('dotenv').config(); console.log('Config loaded:', !!process.env.NODE_ENV)"

# Comprehensive validation
./validate-env.sh
```